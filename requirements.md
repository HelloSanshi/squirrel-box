# Twitter AI Assistant - 产品需求文档 (PRD)

## 📋 文档信息

- **产品名称**：Twitter AI Assistant
- **版本**：v0.1
- **创建日期**：2025-11-28
- **负责人**：贰玖

## 🎯 产品概述

### 产品定位

一款智能 Twitter 浏览器插件,帮助用户高效收集优质推文并快速创作多语言内容。

### 核心价值

**解决痛点**：
- 看到好的推文想法转瞬即逝，没有及时记录
- 推文创作需要灵感，但缺乏素材积累
- 多语言用户需要频繁切换语言发推
- 缺少智能辅助工具提升创作效率

**提供价值**：
- 自动收集浏览过的优质推文
- AI 智能总结推文要点
- 基于收集内容辅助创作
- 多语言切换，一键发布

### 目标用户

**主要用户**：
- 内容创作者：需要持续产出高质量推文
- KOL/博主：管理多语言账号
- 产品经理/创业者：收集行业灵感
- 研究人员：整理特定领域信息

**使用场景**：
- 日常刷 Twitter 时顺手收集灵感
- 创作推文时需要参考素材
- 发布多语言推文
- 整理某个话题的优质内容

## 🎨 功能设计

### 1. 读取模式（收集功能）

**功能描述**：
跟随用户浏览，自动收集推文内容并智能总结。

**核心功能**：

#### 1.1 模式开关
- 一键开启/关闭读取模式
- 状态持久化（刷新页面后保持状态）
- 插件图标显示当前状态（不同颜色/样式）

#### 1.2 推文收集
- **自动收集**：检测用户浏览的推文
  - 在推文停留超过 3 秒自动收集
  - 用户点赞/转发/评论的推文自动收集
- **手动收集**：推文上显示"收藏"按钮
- **收集内容**：
  - 推文原文
  - 作者信息
  - 发布时间
  - 媒体内容（图片/视频链接）
  - 互动数据（点赞/转发/评论数）

#### 1.3 AI 智能总结
- **实时总结**：收集推文后立即调用 AI 总结
- **总结内容**：
  - 核心观点（1-2 句话）
  - 关键信息提取
  - 话题标签
  - 情感倾向（正面/中性/负面）
- **模型选择**：支持切换不同 AI 模型
  - GPT-4o
  - Claude Sonnet
  - Gemini
  - 国产模型（通义千问/文心一言/豆包等）

#### 1.4 数据存储
- **本地存储**：优先使用 Chrome Storage API
- **数据结构**：
  ```json
  {
    "id": "唯一ID",
    "tweetId": "推文ID",
    "author": "作者信息",
    "content": "原文",
    "summary": "AI总结",
    "keywords": ["关键词"],
    "sentiment": "情感",
    "collectTime": "收集时间",
    "media": ["媒体链接"],
    "stats": {
      "likes": 100,
      "retweets": 50,
      "replies": 20
    }
  }
  ```
- **数据管理**：
  - 支持搜索/筛选
  - 支持标签分类
  - 支持导出（JSON/CSV）

### 2. 创作模式（写作功能）

**功能描述**：
基于收集的推文内容，AI 辅助创作新推文。

**核心功能**：

#### 2.1 创作界面
- **独立侧边栏**：不影响正常浏览
- **快捷键唤起**：如 `Cmd+Shift+T`
- **界面布局**：
  - 创作区（输入框）
  - 素材区（收集的推文）
  - 设置区（语言/模型选择）
  - 预览区（生成的推文）

#### 2.2 素材调用
- **智能推荐**：根据创作主题推荐相关推文
- **手动选择**：从收集库中选择参考推文
- **关键词搜索**：快速找到相关素材
- **展示方式**：
  - 原文 + AI 总结
  - 支持快速预览
  - 支持拖拽排序

#### 2.3 AI 创作辅助
- **创作方式**：
  - **从零创作**：输入主题，AI 生成推文
  - **基于素材**：选择推文，AI 提取要点重新创作
  - **改写优化**：输入草稿，AI 润色优化

- **创作参数**：
  - **主题/方向**：用户输入
  - **参考推文**：选择 1-5 条
  - **语言选择**：
    - 中文（简体/繁体）
    - 英文
    - 日文
    - 韩文
    - 其他（用户自定义）
  - **风格选择**：
    - 专业严肃
    - 轻松幽默
    - 简洁精炼
    - 详细解释
    - 自定义提示词
  - **长度控制**：
    - 短推（<140字）
    - 标准（140-280字）
    - 长文（需要分段）

- **模型选择**：
  - GPT-4o
  - Claude Sonnet
  - Gemini Pro
  - 国产模型（通义千问/文心一言/豆包等）
  - 支持自定义 API

#### 2.4 生成与优化
- **生成结果**：
  - 一次生成 2-3 个版本
  - 支持再次生成
  - 支持手动编辑
- **实时预览**：
  - 字数统计
  - 话题标签建议
  - @ 用户建议
  - emoji 建议
- **优化建议**：
  - 语法检查
  - 敏感词检测
  - 可读性评分

#### 2.5 快速发布
- **一键发布**：
  - 直接发布到 Twitter
  - 支持定时发布
  - 支持草稿保存
- **发布选项**：
  - 添加图片/视频
  - 添加投票
  - 限制回复范围
  - 设置位置信息

### 3. 辅助功能

#### 3.1 数据管理
- **收集库**：
  - 列表/卡片视图切换
  - 按时间/话题/作者筛选
  - 支持批量操作（删除/导出/标签）
- **历史记录**：
  - 已发布推文记录
  - 草稿箱
  - 数据统计（收集数/创作数）

#### 3.2 设置中心
- **账号设置**：
  - Twitter 账号授权
  - AI API 配置
- **功能设置**：
  - 默认语言
  - 默认模型
  - 自动收集规则
  - 快捷键配置
- **数据设置**：
  - 存储限制
  - 数据同步（可选）
  - 隐私设置

## 🎨 UI/UX 设计要点

### 设计原则
- **轻量不打扰**：插件界面不影响正常浏览
- **快速响应**：核心操作 1-2 步完成
- **视觉清晰**：信息层次分明，重点突出

### 交互设计
- **状态反馈**：
  - 收集成功：轻提示
  - AI 处理中：加载动画
  - 发布成功：确认提示
- **快捷操作**：
  - 快捷键支持
  - 右键菜单集成
  - 悬浮工具栏

### 视觉风格
- **配色**：跟随 Twitter 官方风格，保持一致性
- **图标**：简洁现代，状态明确
- **布局**：响应式设计，适配不同屏幕

## 🔧 技术要求

### 浏览器兼容
- Chrome（主要）
- Edge
- Firefox（后期支持）

### 性能要求
- 收集响应 < 500ms
- AI 总结 < 3s
- AI 创作 < 5s
- 不影响页面加载速度

### 安全要求
- 本地存储优先
- API Key 加密存储
- 敏感信息不上传
- 用户数据可导出/删除

## 📊 功能优先级

### MVP（最小可行产品）
**P0 - 必须有**：
- ✅ 读取模式开关
- ✅ 推文收集（手动收藏）
- ✅ AI 总结（单一模型）
- ✅ 创作界面
- ✅ AI 生成推文（基础功能）
- ✅ 语言切换（中/英）
- ✅ 快速发布

**P1 - 应该有**：
- 自动收集（停留检测）
- 多模型切换（2-3 个）
- 素材推荐
- 多版本生成
- 数据管理（基础）

**P2 - 可以有**：
- 更多语言支持
- 风格选择
- 定时发布
- 数据统计
- 导出功能

## 📈 成功指标

### 用户行为
- 日活跃用户数
- 平均收集推文数/天
- 平均创作推文数/天
- 发布成功率

### 产品体验
- 用户留存率（7 日/30 日）
- 功能使用率
- 平均响应时间
- 用户满意度评分

## 🗓️ 开发计划

### Phase 1: MVP（4 周）
- Week 1: 基础架构 + 读取模式
- Week 2: 创作模式 + AI 集成
- Week 3: 发布功能 + 数据管理
- Week 4: 测试 + 优化

### Phase 2: 优化（2 周）
- 多模型支持
- 自动收集
- UI/UX 优化

### Phase 3: 扩展（持续）
- 更多语言
- 高级功能
- 数据分析

## 🤔 待讨论问题

1. **AI 模型选择**：
   - 优先支持哪些模型？
   - 是否需要免费额度？

2. **数据存储**：
   - 是否需要云同步？
   - 存储上限设置？

3. **商业模式**：
   - 免费 vs 付费功能划分？
   - API 成本如何分摊？

4. **隐私保护**：
   - 哪些数据可以收集？
   - 是否需要匿名化？

---

**下一步**：技术方案设计 + UI 原型
